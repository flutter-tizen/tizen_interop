# tizen_interop

This package provides Dart bindings and utility functions for using Tizen native APIs.

## ❗ Experimental ❗

This package is in experimental stage. It is not intended for production use.
Only specific versions and profiles of Tizen are supported, and some binding APIs may be missing or have errors.
Graphics and WebView related APIs are not provided. 

## Usage

To use this package, add `ffi` and `tizen_interop` as dependencies in your `pubspec.yaml` file.

```yaml
dependencies:
  ffi: ^1.1.2
  tizen_interop:
    git: https://github.com/flutter-tizen/tizen_interop
```

Then, import `package:ffi/ffi.dart` and `package:tizen_interop/[TIZEN_VERSION]/[PROFILE]/tizen.dart` in your Dart code.

```dart
import 'package:ffi/ffi.dart';
import 'package:tizen_interop/4.0/wearable/tizen.dart';
```

### Example

```dart
String? getApplicationName() {
  String? appName;
  using((Arena arena) {
    Pointer<Pointer<Int8>> namePtr = arena();
    tizen.app_get_name(namePtr);
    appName = namePtr.value.toDartString();
    malloc.free(namePtr.value);
  });
  return appName;
}
```

Notice that the return value of [`app_get_name()`](https://docs.tizen.org/application/native/api/wearable/4.0/group__CAPI__APP__COMMON__MODULE.html#ga26b09c3080ccd8e32120bce697863268) is of `char *` type and must be released by the caller explicitly. If you're using IDEs like VS Code, you can hover your mouse over symbols or press `F12` to jump to their definitions and read API docs.

## Building from source

Run `build.sh` in this directory. Dart bindings (`lib/src/.../generated_bindings.dart`) will be regenerated by [ffigen](https://pub.dev/packages/ffigen).

```sh
./build.sh
```
